# Kotlin基础（一）

## 1、变量和函数

#### 变量

Kotlin中只允许两种变量声明：**val**和**var**。**val**（value）声明不可变变量，**var**（variable）声明可变变量。
**\*** *应优先使用val声明变量，仅当val满足不了需求时再使用var。*

#### 函数

Kotlin中函数形如：

```kotlin
fun 函数名(参数名: 参数类型, 参数名: 参数类型): 返回值类型 {
    执行逻辑
}
```

当函数体只有一行代码时，Kotlin允许将其简化为如下形式：

```kotlin
fun 函数名(参数名: 参数类型, 参数名: 参数类型): 返回值类型 = 执行逻辑
```

## 2、程序的逻辑控制

### if  条件语句

Kotlin中的**if**相较于Java多了一个功能，它可以有返回值，返回值为**if**语句的每一个条件的最后一行代码的返回值。

### when 条件语句

Kotlin中**when**可类比Java中的**switch**，但是功能要比**switch**强大。首先，Java的**switch**在JDK1.7之后支持int、char、String、enum类型的参数。其次，每个case的最后都需要手动添加一个break以跳出switch逻辑。而**when**则没有以上限制，还增加了许多强大的新特性。

**when**条件判断逻辑的一般形式为：

```kotlin
when (判断条件) {
    匹配值 -> {执行逻辑}
    ...
}
```

除对判断条件进行精确匹配外，**when**语句还允许类型匹配，其形式为：

```kotlin
when (判断条件) {
    is 类型 -> {执行逻辑}
    ...
}
```

其中**is**相当于Java的**instanceof**。除以上两种**when**的基本用法外，**when**还支持一种不带参数的用法。当不带参数时，所有分支条件为*布尔表达式*。

### 循环语句

Kotlin提供两种循环控制：**while**循环和**for**循环。其中**while**循环在语法和使用上与Java没有任何区别。**for**循环相较于Java则做了较大的修改，**for-i**循环在Kotlin中直接被舍弃，**for-each**循环经过加强后变成了**for-in**循环。

#### 区间

**for-in**循环是建立在**区间**的概念上的。Kotlin中用**..**关键字来创建两端闭区间，如 `val range = 0..10`则表示一个[0, 10]的区间。另外可以使用**until**关键字创建一个左闭右开区间，如`val range = 0 until 10`表示区间[0, 10)。**..**和**until**都只能创建升序的区间，当需要创建降序区间时需要使用**downTo**关键字，如`val range = 10 downTown 1`表示区间[10, 1]。

所以**for-in**循环的一般形式为：

```kotlin
for (i in 区间) {
    执行逻辑
}
```

**for-in**遍历还支持通过**step**关键字设置遍历的步长，如：

```kotlin
for (i in 0..10 step 2) {
    执行逻辑
}
```

即表示只遍历[0, 10]区间中的0， 2， 4， 6， 8，10。